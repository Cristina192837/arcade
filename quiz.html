<!DOCTYPE html>
<html lang="ca">
    <a href="quiz.html">Quiz d'Història</a>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz d'Història</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f2f2f2;
            margin: 0;
            padding: 0;
        }
        header {
            background-color: #4CAF50;
            color: white;
            text-align: center;
            padding: 1em 0;
        }
        .container {
            max-width: 900px;
            margin: 20px auto;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h2 {
            color: #333;
        }
        .course-selection, .topics, .exam-mode {
            margin: 20px 0;
        }
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        .hidden {
            display: none;
        }
        .timer {
            font-weight: bold;
            font-size: 1.2em;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <header>
        <h1>Quiz d'Història</h1>
    </header>

    <div class="container">
        <!-- Selecció de curs -->
        <div class="course-selection">
            <h2>Tria el teu curs</h2>
            <button onclick="selectCourse('batxillerat')">Batxillerat</button>
            <button onclick="selectCourse('eso')">ESO</button>
        </div>

        <!-- Temes -->
        <div class="topics hidden">
            <h2>Temes disponibles</h2>
            <div id="topics-list"></div>
            <button onclick="startExam()">Mode Examen (30 min)</button>
        </div>

        <!-- Mode examen -->
        <div class="exam-mode hidden">
            <h2>Examen</h2>
            <div class="timer" id="timer">30:00</div>
            <div id="exam-questions"></div>
            <button onclick="finishExam()">Finalitzar Examen</button>
        </div>

        <!-- Resultats -->
        <div id="results" class="hidden">
            <h2>Resultats</h2>
            <p id="score"></p>
            <button onclick="location.reload()">Tornar a començar</button>
        </div>
    </div>

    <script>
        const topics = [
            "Tema 1: Prehistòria",
            "Tema 2: Antic Egipte",
            "Tema 3: Grècia Clàssica",
            "Tema 4: Roma",
            "Tema 5: Edat Mitjana",
            "Tema 6: Renaixement",
            "Tema 7: Revolució Industrial",
            "Tema 8: Segle XX"
        ];

        function selectCourse(course) {
            document.querySelector('.course-selection').classList.add('hidden');
            document.querySelector('.topics').classList.remove('hidden');
            const topicsList = document.getElementById('topics-list');
            topicsList.innerHTML = '';
            topics.forEach((topic, index) => {
                let btn = document.createElement('button');
                btn.textContent = topic;
                btn.onclick = () => alert(`Aquesta seria la secció d'estudi per: ${topic}`);
                topicsList.appendChild(btn);
            });
        }

        function startExam() {
            document.querySelector('.topics').classList.add('hidden');
            document.querySelector('.exam-mode').classList.remove('hidden');
            startTimer(30 * 60); // 30 minuts
            loadExamQuestions();
        }

        function startTimer(seconds) {
            const timerEl = document.getElementById('timer');
            let remaining = seconds;
            const interval = setInterval(() => {
                let mins = Math.floor(remaining / 60);
                let secs = remaining % 60;
                timerEl.textContent = `${mins.toString().padStart(2,'0')}:${secs.toString().padStart(2,'0')}`;
                remaining--;
                if (remaining < 0) {
                    clearInterval(interval);
                    finishExam();
                }
            }, 1000);
        }

        function loadExamQuestions() {
            const examDiv = document.getElementById('exam-questions');
            examDiv.innerHTML = '';
            for (let i=1; i<=5; i++) {
                let q = document.createElement('div');
                q.innerHTML = `
                    <p><strong>Pregunta ${i}:</strong> Quina és la resposta correcta?</p>
                    <select id="q${i}">
                        <option value="0">Opció 1</option>
                        <option value="1">Opció 2</option>
                        <option value="0">Opció 3</option>
                        <option value="0">Opció 4</option>
                    </select>
                `;
                examDiv.appendChild(q);
            }
        }

        function finishExam() {
            let score = 0;
            for (let i=1; i<=5; i++) {
                let val = parseInt(document.getElementById(`q${i}`).value);
                score += val;
            }
            document.querySelector('.exam-mode').classList.add('hidden');
            const results = document.getElementById('results');
            results.classList.remove('hidden');
            document.getElementById('score').textContent = `La teva puntuació és: ${score} / 5`;
        }
    </script>
</body>
</html>
